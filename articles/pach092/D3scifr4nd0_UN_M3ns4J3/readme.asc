= D3scifr4nd0 UN M3ns4J3
=================
:imagesdir: images
:library: Asciidoctor
:idprefix:
:numbered:

La encriptación es un complemento indispensable para que la información no sea utilizada por quien no queremos, aunque se piense que encriptar es un término moderno, la raza humana a encriptado casi desde sus inicios, desde lenguajes inventados, sustitución del orden del alfabeto, etc… el principio básico de la encriptación es proteger los mensajes que se consideran importantes de las personas ajenas, guerras enteras se han perdido por cifrados deficientes footnote:[https://hipertextual.com/2011/07/la-maquina-enigma-el-sistema-de-cifrado-que-puso-en-jaque-a-europa[Hipertextual]], en resumen, la encriptación tiene una gran importancia a la hora de proteger los datos y la información que recibimos frente ataques contra nuestra red.


.Cifrado de un archivo footnote:[Imagen tomada de http://www.tuxylinux.com/[Tuxylinux]]
image::cifrado-pgp.jpg[]

== ¿Qué es wireshark?

Es un potente http://culturacion.com/que-es-un-sniffer/[_sniffer_] de red además de software libre -Muchas distribuciones Linux enfocados en ethical hacking tienen preinstalado este software-, nos permite capturar y monitorizar los paquetes que pasan por nuestra conexión –Ya sean de nuestro equipo o no- simplemente seleccionando la interfaz por la que estamos conectados a la red, o si simplemente queremos analizar el tráfico de un solo equipo poniéndola dentro del programa en modo promiscuo, esto quiere decir, que solo capture el tráfico que pasa por ella.


.Interfaces en wireshark
image::Wireshark.png[]

Como se observa en la imagen 2, wireshark detecta automáticamente a que interfaz está conectado el sistema, y las demás interfaces que tiene disponible -En este caso el sistema está conectado a la red Wifi.
Con la información que ofrece este programa, podemos analizar el tráfico que pasa por la red a la que está conectado el sistema y así prevenir problemas que puedan surgir derivado de ello, por ejemplo, si la conexión no es estable, se podría verificar que equipo está generando un tráfico no deseado y observando su protocolo poder determinar si es un ataque externo o una máquina de la red infectada con algún troyano.
También es perfecto para el aprendizaje de los protocolos de red, nos da la oportunidad de observar los diferentes protocolos de red y desglosarlos para poder comprender su utilidad y su función.

.Protocolo TCP desglosado por wireshark
image::TCP.png[]

Otra posibilidad que, aunque no está en la filosofía de Wireshark es para usarlo de forma delictiva, como por ejemplo robar una contraseña Wifi protegida por cifrado WEP (Wired Equivalent Privacy), o incluso robar seriales de alguna aplicación que utilice verificación en línea.

.Rompiendo la verificacion online
image::wireshark.gif[]

Los pasos para poder saltar este tipo de seguridad fueron los siguientes, al ser wireshark un monitorde red el programa captura todos los paquetes que están siendo enviados y recibidos de todas las maquinas que están conectadas a la misma red, esta información es bastante extensa y nos seria muy difícil saber que buscar por lo cual filtramos solo los paquetes enviados y recibidos por nuestra dirección IP con el siguiente código “ip.addr == <dirección IP>” después de filtrar el trafico lo que hacemos es revisar e protocolo HTTP y buscar a que dirección redirige las peticiones de la aplicación para revisar los seriales.

== ¿Cómo puede wireshark prevenir ataques?

Una vez iniciada una captura, se deben reconocer que servidores se conectan a través de peticiones DNS. Para hacer esto es recomendable hacer un filtro escribiendo DNS y aplicando el filtro, una vez aplicado el filtro, serán visibles únicamente los protocolos DNS, en caso de un malware permite revisar a que servidor se conecta.

.Filtro DNS
image::dns.png[]

Otro aspecto para tener cuidado son las peticiones realizadas. Con el filtro “http.request” se obtienen todos los GET y POST que han sido capturados. Generalmente estas peticiones son muy utilizadas por aplicaciones maliciosas para enviar información sobre un servidor infectado

.Filtro HTTP Request
image::get.png[]

Estos filtros no son los únicos que nos pueden ayudar a la seguridad de una red, existe una gran variedad de filtros para aplicar dependiendo de cada necesidad por ejemplo http://www.serversmtp.com/es/que-es-servidor-smtp[SMTP] (Simple Mail Transfer Protocol) para filtrar los correos, además que pueden ser concatenados con operaciones lógicas para tener un filtro más exacto de lo que se requiere. En la figura 7, por ejemplo, se está filtrando todas las peticiones que sean de la IP 192.168.0.15

.Concatenación de elementos
image::union.png[]

Wireshark es una herramienta extremadamente poderosa, en este artículo simplemente se habló en una menor medida de lo que es realmente capaz de hacer, las aplicaciones van desde depurar las implementaciones de protocolos de red, examinar problemas de seguridad, inspecciones protocolos internos de red. 

= Referencias
=================
. https://www.howtogeek.com/104278/how-to-use-wireshark-to-capture-filter-and-inspect-packets/[HowToGeek]
